<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syrian Pound Converter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #4CAF50, #45a049);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #2d5a3d;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 20px;
            background: #e8f5e9;
            padding: 10px;
            border-radius: 8px;
        }
        .section {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .section-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .mode-btn {
            width: 100%;
            padding: 15px;
            margin-bottom: 8px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            text-align: left;
            font-size: 14px;
        }
        .mode-btn:hover {
            background: #f0f0f0;
        }
        .mode-btn.active {
            border-color: #4CAF50;
            background: #e8f5e9;
            font-weight: bold;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #555;
        }
        input {
            width: 100%;
            padding: 12px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            text-align: center;
        }
        input:focus {
            outline: none;
            border-color: #4CAF50;
        }
        .result {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        .result-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        .result-value {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        .btn {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        .btn-primary {
            background: #4CAF50;
            color: white;
        }
        .btn-primary:active {
            background: #45a049;
        }
        .btn-secondary {
            background: #757575;
            color: white;
        }
        .btn-secondary:active {
            background: #616161;
        }
        .btn-info {
            background: #2196F3;
            color: white;
        }
        .hidden {
            display: none;
        }
        .history {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            padding: 20px;
            overflow-y: auto;
        }
        .history.active {
            display: block;
        }
        .history-content {
            background: white;
            border-radius: 15px;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        .history-item {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
        }
        .history-time {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        .history-type {
            background: #4CAF50;
            color: white;
            padding: 3px 10px;
            border-radius: 5px;
            font-size: 11px;
            display: inline-block;
            margin-bottom: 10px;
        }
        .close-btn {
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>محول الليرة السورية</h1>
        <div class="subtitle">100 ليرة قديمة = 1 ليرة جديدة</div>

        <div class="section">
            <div class="section-title">نوع التحويل</div>
            <button class="mode-btn active" onclick="setMode('oldToNew')">
                قديم ← جديد - تحويل من القديمة إلى الجديدة
            </button>
            <button class="mode-btn" onclick="setMode('newToOld')">
                جديد ← قديم - تحويل من الجديدة إلى القديمة
            </button>
            <button class="mode-btn" onclick="setMode('combinedToNew')">
                مختلط ← جديد - تحويل المبلغين إلى جديدة
            </button>
            <button class="mode-btn" onclick="setMode('combinedToOld')">
                مختلط ← قديم - تحويل المبلغين إلى قديمة
            </button>
            <button class="mode-btn" onclick="setMode('combinedToBoth')">
                مختلط ← الاثنين - عرض النتيجتين معاً
            </button>
        </div>

        <div class="section">
            <div id="oldInput">
                <label>الليرة السورية القديمة</label>
                <input type="number" id="oldAmount" value="0" oninput="calculate()">
            </div>
            <div id="newInput" class="hidden" style="margin-top: 15px;">
                <label>الليرة السورية الجديدة</label>
                <input type="number" id="newAmount" value="0" oninput="calculate()">
            </div>
        </div>

        <div class="result">
            <div id="resultArea"></div>
        </div>

        <button class="btn btn-primary" onclick="saveToHistory()">حفظ في السجل</button>
        <button class="btn btn-secondary" onclick="clearInputs()">مسح</button>
        <button class="btn btn-info" onclick="showHistory()">عرض السجل</button>
    </div>

    <div class="history" id="historyModal">
        <div class="history-content">
            <span class="close-btn" onclick="closeHistory()">&times;</span>
            <h2>سجل التحويلات</h2>
            <div id="historyList"></div>
            <button class="btn btn-secondary" onclick="clearHistory()">مسح السجل بالكامل</button>
        </div>
    </div>

    <script>
        let mode = 'oldToNew';
        let history = [];

        function loadHistory() {
            try {
                const saved = localStorage.getItem('history');
                if (saved) history = JSON.parse(saved);
            } catch (e) {
                history = [];
            }
        }

        function saveHistoryData() {
            localStorage.setItem('history', JSON.stringify(history));
        }

        function setMode(newMode) {
            mode = newMode;
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const oldInput = document.getElementById('oldInput');
            const newInput = document.getElementById('newInput');
            
            if (mode === 'oldToNew') {
                oldInput.classList.remove('hidden');
                newInput.classList.add('hidden');
            } else if (mode === 'newToOld') {
                oldInput.classList.add('hidden');
                newInput.classList.remove('hidden');
            } else {
                oldInput.classList.remove('hidden');
                newInput.classList.remove('hidden');
            }
            
            calculate();
        }

        function formatNumber(num) {
            return num.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        function calculate() {
            const old = parseFloat(document.getElementById('oldAmount').value) || 0;
            const newVal = parseFloat(document.getElementById('newAmount').value) || 0;
            const resultArea = document.getElementById('resultArea');
            
            let html = '';
            
            if (mode === 'oldToNew') {
                const result = old / 100;
                html = '<div class="result-label">الليرة السورية الجديدة</div><div class="result-value">' + formatNumber(result) + '</div>';
            } else if (mode === 'newToOld') {
                const result = newVal * 100;
                html = '<div class="result-label">الليرة السورية القديمة</div><div class="result-value">' + formatNumber(result) + '</div>';
            } else if (mode === 'combinedToNew') {
                const result = (old / 100) + newVal;
                html = '<div class="result-label">المجموع بالليرة الجديدة</div><div class="result-value">' + formatNumber(result) + '</div>';
            } else if (mode === 'combinedToOld') {
                const result = old + (newVal * 100);
                html = '<div class="result-label">المجموع بالليرة القديمة</div><div class="result-value">' + formatNumber(result) + '</div>';
            } else if (mode === 'combinedToBoth') {
                const resultOld = old + (newVal * 100);
                const resultNew = (old / 100) + newVal;
                html = '<div class="result-label">الليرة السورية القديمة</div><div class="result-value">' + formatNumber(resultOld) + '</div>';
                html += '<div style="margin-top:10px"><div class="result-label">الليرة السورية الجديدة</div><div class="result-value">' + formatNumber(resultNew) + '</div></div>';
            }
            
            resultArea.innerHTML = html;
        }

        function saveToHistory() {
            const old = parseFloat(document.getElementById('oldAmount').value) || 0;
            const newVal = parseFloat(document.getElementById('newAmount').value) || 0;
            
            const modes = {
                'oldToNew': 'قديم ← جديد',
                'newToOld': 'جديد ← قديم',
                'combinedToNew': 'مختلط ← جديد',
                'combinedToOld': 'مختلط ← قديم',
                'combinedToBoth': 'مختلط ← الاثنين'
            };
            
            const entry = {
                time: new Date().toLocaleString(),
                type: modes[mode],
                old: old,
                new: newVal,
                mode: mode
            };
            
            history.unshift(entry);
            history = history.slice(0, 50);
            saveHistoryData();
            alert('تم الحفظ في السجل!');
        }

        function clearInputs() {
            document.getElementById('oldAmount').value = '0';
            document.getElementById('newAmount').value = '0';
            calculate();
        }

        function showHistory() {
            const list = document.getElementById('historyList');
            
            if (history.length === 0) {
                list.innerHTML = '<p style="text-align:center;color:#999;padding:20px;">لا يوجد سجل بعد</p>';
            } else {
                let html = '';
                history.forEach(entry => {
                    let result = '';
                    if (entry.mode === 'oldToNew') {
                        result = 'النتيجة: ' + formatNumber(entry.old / 100) + ' ل.س جديدة';
                    } else if (entry.mode === 'newToOld') {
                        result = 'النتيجة: ' + formatNumber(entry.new * 100) + ' ل.س قديمة';
                    } else if (entry.mode === 'combinedToNew') {
                        result = 'النتيجة: ' + formatNumber((entry.old / 100) + entry.new) + ' ل.س جديدة';
                    } else if (entry.mode === 'combinedToOld') {
                        result = 'النتيجة: ' + formatNumber(entry.old + (entry.new * 100)) + ' ل.س قديمة';
                    } else {
                        result = 'قديمة: ' + formatNumber(entry.old + (entry.new * 100)) + ' | جديدة: ' + formatNumber((entry.old / 100) + entry.new);
                    }
                    
                    html += '<div class="history-item">';
                    html += '<div class="history-time">' + entry.time + '</div>';
                    html += '<div class="history-type">' + entry.type + '</div>';
                    html += '<div>قديمة: ' + formatNumber(entry.old) + ' | جديدة: ' + formatNumber(entry.new) + '</div>';
                    html += '<div style="margin-top:5px;font-weight:bold;">' + result + '</div>';
                    html += '</div>';
                });
                list.innerHTML = html;
            }
            
            document.getElementById('historyModal').classList.add('active');
        }

        function closeHistory() {
            document.getElementById('historyModal').classList.remove('active');
        }

        function clearHistory() {
            if (confirm('هل تريد مسح السجل بالكامل؟')) {
                history = [];
                saveHistoryData();
                showHistory();
            }
        }

        loadHistory();
        calculate();
    </script>
</body>
    </html>        }
        .btn-primary {
            background: #4CAF50;
            color: white;
        }
        .btn-primary:active {
            background: #45a049;
        }
        .btn-secondary {
            background: #757575;
            color: white;
        }
        .btn-secondary:active {
            background: #616161;
        }
        .btn-info {
            background: #2196F3;
            color: white;
        }
        .hidden {
            display: none;
        }
        .history {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: none;
            padding: 20px;
            overflow-y: auto;
        }
        .history.active {
            display: block;
        }
        .history-content {
            background: white;
            border-radius: 15px;
            padding: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        .history-item {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
        }
        .history-time {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        .history-type {
            background: #4CAF50;
            color: white;
            padding: 3px 10px;
            border-radius: 5px;
            font-size: 11px;
            display: inline-block;
            margin-bottom: 10px;
        }
        .close-btn {
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Syrian Pound Converter</h1>
        <div class="subtitle">100 Old SP = 1 New SP</div>

        <div class="section">
            <div class="section-title">Conversion Mode</div>
            <button class="mode-btn active" onclick="setMode('oldToNew')">
                Old to New - Convert old pounds to new
            </button>
            <button class="mode-btn" onclick="setMode('newToOld')">
                New to Old - Convert new pounds to old
            </button>
            <button class="mode-btn" onclick="setMode('combinedToNew')">
                Combined to New - Mix to new pounds
            </button>
            <button class="mode-btn" onclick="setMode('combinedToOld')">
                Combined to Old - Mix to old pounds
            </button>
            <button class="mode-btn" onclick="setMode('combinedToBoth')">
                Combined to Both - Show both results
            </button>
        </div>

        <div class="section">
            <div id="oldInput">
                <label>Old Syrian Pounds</label>
                <input type="number" id="oldAmount" value="0" oninput="calculate()">
            </div>
            <div id="newInput" class="hidden" style="margin-top: 15px;">
                <label>New Syrian Pounds</label>
                <input type="number" id="newAmount" value="0" oninput="calculate()">
            </div>
        </div>

        <div class="result">
            <div id="resultArea"></div>
        </div>

        <button class="btn btn-primary" onclick="saveToHistory()">Save to History</button>
        <button class="btn btn-secondary" onclick="clearInputs()">Clear</button>
        <button class="btn btn-info" onclick="showHistory()">View History</button>
    </div>

    <div class="history" id="historyModal">
        <div class="history-content">
            <span class="close-btn" onclick="closeHistory()">&times;</span>
            <h2>Conversion History</h2>
            <div id="historyList"></div>
            <button class="btn btn-secondary" onclick="clearHistory()">Clear All History</button>
        </div>
    </div>

    <script>
        let mode = 'oldToNew';
        let history = [];

        function loadHistory() {
            try {
                const saved = localStorage.getItem('history');
                if (saved) history = JSON.parse(saved);
            } catch (e) {
                history = [];
            }
        }

        function saveHistoryData() {
            localStorage.setItem('history', JSON.stringify(history));
        }

        function setMode(newMode) {
            mode = newMode;
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const oldInput = document.getElementById('oldInput');
            const newInput = document.getElementById('newInput');
            
            if (mode === 'oldToNew') {
                oldInput.classList.remove('hidden');
                newInput.classList.add('hidden');
            } else if (mode === 'newToOld') {
                oldInput.classList.add('hidden');
                newInput.classList.remove('hidden');
            } else {
                oldInput.classList.remove('hidden');
                newInput.classList.remove('hidden');
            }
            
            calculate();
        }

        function calculate() {
            const old = parseFloat(document.getElementById('oldAmount').value) || 0;
            const newVal = parseFloat(document.getElementById('newAmount').value) || 0;
            const resultArea = document.getElementById('resultArea');
            
            let html = '';
            
            if (mode === 'oldToNew') {
                const result = old / 100;
                html = '<div class="result-label">New Syrian Pounds</div><div class="result-value">' + result.toFixed(2) + '</div>';
            } else if (mode === 'newToOld') {
                const result = newVal * 100;
                html = '<div class="result-label">Old Syrian Pounds</div><div class="result-value">' + result.toFixed(2) + '</div>';
            } else if (mode === 'combinedToNew') {
                const result = (old / 100) + newVal;
                html = '<div class="result-label">Total in New SP</div><div class="result-value">' + result.toFixed(2) + '</div>';
            } else if (mode === 'combinedToOld') {
                const result = old + (newVal * 100);
                html = '<div class="result-label">Total in Old SP</div><div class="result-value">' + result.toFixed(2) + '</div>';
            } else if (mode === 'combinedToBoth') {
                const resultOld = old + (newVal * 100);
                const resultNew = (old / 100) + newVal;
                html = '<div class="result-label">Old Syrian Pounds</div><div class="result-value">' + resultOld.toFixed(2) + '</div>';
                html += '<div style="margin-top:10px"><div class="result-label">New Syrian Pounds</div><div class="result-value">' + resultNew.toFixed(2) + '</div></div>';
            }
            
            resultArea.innerHTML = html;
        }

        function saveToHistory() {
            const old = parseFloat(document.getElementById('oldAmount').value) || 0;
            const newVal = parseFloat(document.getElementById('newAmount').value) || 0;
            
            const modes = {
                'oldToNew': 'Old to New',
                'newToOld': 'New to Old',
                'combinedToNew': 'Combined to New',
                'combinedToOld': 'Combined to Old',
                'combinedToBoth': 'Combined to Both'
            };
            
            const entry = {
                time: new Date().toLocaleString(),
                type: modes[mode],
                old: old,
                new: newVal,
                mode: mode
            };
            
            history.unshift(entry);
            history = history.slice(0, 50);
            saveHistoryData();
            alert('Saved to history!');
        }

        function clearInputs() {
            document.getElementById('oldAmount').value = '0';
            document.getElementById('newAmount').value = '0';
            calculate();
        }

        function showHistory() {
            const list = document.getElementById('historyList');
            
            if (history.length === 0) {
                list.innerHTML = '<p style="text-align:center;color:#999;padding:20px;">No history yet</p>';
            } else {
                let html = '';
                history.forEach(entry => {
                    let result = '';
                    if (entry.mode === 'oldToNew') {
                        result = 'Result: ' + (entry.old / 100).toFixed(2) + ' New SP';
                    } else if (entry.mode === 'newToOld') {
                        result = 'Result: ' + (entry.new * 100).toFixed(2) + ' Old SP';
                    } else if (entry.mode === 'combinedToNew') {
                        result = 'Result: ' + ((entry.old / 100) + entry.new).toFixed(2) + ' New SP';
                    } else if (entry.mode === 'combinedToOld') {
                        result = 'Result: ' + (entry.old + (entry.new * 100)).toFixed(2) + ' Old SP';
                    } else {
                        result = 'Old: ' + (entry.old + (entry.new * 100)).toFixed(2) + ', New: ' + ((entry.old / 100) + entry.new).toFixed(2);
                    }
                    
                    html += '<div class="history-item">';
                    html += '<div class="history-time">' + entry.time + '</div>';
                    html += '<div class="history-type">' + entry.type + '</div>';
                    html += '<div>Old: ' + entry.old.toFixed(2) + ' | New: ' + entry.new.toFixed(2) + '</div>';
                    html += '<div style="margin-top:5px;font-weight:bold;">' + result + '</div>';
                    html += '</div>';
                });
                list.innerHTML = html;
            }
            
            document.getElementById('historyModal').classList.add('active');
        }

        function closeHistory() {
            document.getElementById('historyModal').classList.remove('active');
        }

        function clearHistory() {
            if (confirm('Clear all history?')) {
                history = [];
                saveHistoryData();
                showHistory();
            }
        }

        loadHistory();
        calculate();
    </script>
</body>
</html>
